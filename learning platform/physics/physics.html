<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Physics Calculator | Grade 12+</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #1a2980, #26d0ce);
      color: #333;
      min-height: 100vh;
      padding: 20px;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      overflow: hidden;
    }
    
    header {
      background: linear-gradient(90deg, #2c3e50, #4a6491);
      color: white;
      padding: 1.5rem;
      text-align: center;
      border-bottom: 3px solid #3498db;
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    
    .subtitle {
      font-size: 1.2rem;
      opacity: 0.9;
    }
    
    .tabs {
      display: flex;
      background: #f8f9fa;
      border-bottom: 1px solid #ddd;
      flex-wrap: wrap;
    }
    
    .tab {
      padding: 1rem 1.5rem;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      border-bottom: 3px solid transparent;
      text-align: center;
      flex-grow: 1;
    }
    
    .tab.active {
      background: white;
      border-bottom: 3px solid #3498db;
      color: #2c3e50;
    }
    
    .tab:hover:not(.active) {
      background: #e9ecef;
    }
    
    .tab-content {
      display: none;
      padding: 2rem;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .section-title {
      color: #2c3e50;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #3498db;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .section-title i {
      font-size: 1.8rem;
      color: #3498db;
    }
    
    .calculator-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }
    
    .calculator-card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      padding: 1.5rem;
      transition: transform 0.3s;
      border-left: 4px solid #3498db;
      display: flex;
      flex-direction: column;
    }
    
    .calculator-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }
    
    .card-title {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 1rem;
      color: #2c3e50;
    }
    
    .card-title i {
      color: #3498db;
      font-size: 1.2rem;
    }
    
    .formula {
      background: #f8f9fa;
      padding: 0.8rem;
      border-radius: 8px;
      font-family: monospace;
      margin: 1rem 0;
      border-left: 3px solid #3498db;
      text-align: center;
      font-size: 1.1rem;
    }
    
    .input-group {
      margin-bottom: 1rem;
      flex-grow: 1;
    }
    
    .input-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: #495057;
    }
    
    .input-group input, .input-group select {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid #ced4da;
      border-radius: 6px;
      font-size: 1rem;
    }

    .input-group input:disabled {
        background-color: #e9ecef;
        cursor: not-allowed;
    }
    
    .input-group input:focus, .input-group select:focus {
      outline: none;
      border-color: #3498db;
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
    }
    
    .btn {
      padding: 0.8rem 1.5rem;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      width: 100%;
      font-size: 1rem;
      margin-top: 0.5rem;
    }
    
    .btn:hover {
      background: #2980b9;
      transform: translateY(-2px);
    }
    
    .result {
      margin-top: 1.5rem;
      padding: 1rem;
      background: #e3f2fd;
      border-radius: 8px;
      border-left: 3px solid #3498db;
      font-weight: 600;
      color: #2c3e50;
      word-wrap: break-word;
    }
    
    .explanation {
      margin-top: 1rem;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
      font-size: 0.9rem;
      color: #495057;
      border-left: 3px solid #95a5a6;
    }
    
    .explanation h4 {
      color: #2c3e50;
      margin-bottom: 0.5rem;
    }
    
    .conversion-section {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      margin-top: 2rem;
    }
    
    .converter-card {
      flex: 1;
      min-width: 300px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      padding: 1.5rem;
      border-left: 4px solid #9b59b6;
    }
    
    .converter-title {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 1rem;
      color: #2c3e50;
    }
    
    .converter-title i {
      color: #9b59b6;
      font-size: 1.2rem;
    }
    
    .conversion-row {
      display: flex;
      gap: 10px;
      margin-bottom: 1rem;
      align-items: center;
    }
    
    .conversion-row input, .conversion-row select {
      flex: 1;
      padding: 0.8rem;
      border: 1px solid #ced4da;
      border-radius: 6px;
    }
    
    .conversion-result {
      margin-top: 1rem;
      padding: 1rem;
      background: #f3e5f5;
      border-radius: 8px;
      border-left: 3px solid #9b59b6;
      font-weight: 600;
    }
    
    footer {
      text-align: center;
      padding: 1.5rem;
      background: #2c3e50;
      color: white;
      margin-top: 2rem;
    }
    
    @media (max-width: 768px) {
      .calculator-grid {
        grid-template-columns: 1fr;
      }
      
      .conversion-section {
        flex-direction: column;
      }
    }

/* Navbar Styles */
.navbar-link {
    position: relative;
    text-decoration: none;
}

.navbar-link.active {
    font-weight: bold;
    color: #3498db; /* Primary color of physics page */
}

.navbar-link.active::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 2px;
    background-color: black;
}

.navbar-link:hover {
    color: #3498db; /* Primary color of physics page */
}

 body {
      padding-top: 70px; /* Space for fixed navbar */
    }
    
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: white;
      padding: 1rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: center;
    }
    
    .navbar-container {
      display: flex;
      gap: 1rem;
    }
    
    .navbar-link {
      position: relative;
      text-decoration: none;
      color: black;
      padding: 0.5rem 1rem;
      border-radius: 0.25rem;
      font-size: 0.875rem;
      font-weight: 500;
      transition: color 0.2s;
    }
    
    .navbar-link:hover {
      color: #3498db;
    }
    
    @media (max-width: 768px) {
      .navbar-container {
        flex-wrap: wrap;
        justify-content: center;
      }
    }

    /* REST OF YOUR EXISTING CSS */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, #1a2980, #26d0ce);
      color: #333;
      min-height: 100vh;
      padding: 20px;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      overflow: hidden;
    }
  </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="../flashcard/Flashcard.html" class="navbar-link">Flashcard</a>
            <a href="../physics/physics.html" class="navbar-link">Physics</a>
            <a href="../pomodoro/20.Pomodoro-Timer.html" class="navbar-link">Pomodoro Timer</a>
            <a href="../prayers/prayers.html" class="navbar-link">Prayers</a>
            <a href="../Quiz App/Quiz App.html" class="navbar-link">Quiz App</a>
        </div>
    </nav>
    
  <div class="container">
    <header>
      <h1><i class="fas fa-atom"></i> Physics  Assistant</h1>
    </header>
    
    <div class="tabs">
      <div class="tab active" data-tab="mechanics">Mechanics</div>
      <div class="tab" data-tab="electricity">Electricity & Magnetism</div>
      <div class="tab" data-tab="thermodynamics">Thermodynamics</div>
      <div class="tab" data-tab="waves">Waves & Optics</div>
      <div class="tab" data-tab="conversion">Unit Conversion</div>
    </div>
    
    <div id="mechanics" class="tab-content active">
        <h2 class="section-title"><i class="fas fa-cogs"></i> Mechanics Formulas</h2>
        <div class="calculator-grid">
            <div class="calculator-card" id="velocity-card">
                <h3 class="card-title"><i class="fas fa-running"></i> Kinematics (v, d, t)</h3>
                <div class="formula">v = d / t</div>
                <div class="input-group">
                    <label for="velocity-solve">Calculate for:</label>
                    <select id="velocity-solve" onchange="updateCalculatorUI('velocity')">
                        <option value="v">Velocity (v)</option>
                        <option value="d">Distance (d)</option>
                        <option value="t">Time (t)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="velocity-v">Velocity (v) [m/s]</label>
                    <input type="number" id="velocity-v" placeholder="Enter velocity">
                </div>
                <div class="input-group">
                    <label for="velocity-d">Distance (d) [m]</label>
                    <input type="number" id="velocity-d" placeholder="Enter distance">
                </div>
                <div class="input-group">
                    <label for="velocity-t">Time (t) [s]</label>
                    <input type="number" id="velocity-t" placeholder="Enter time">
                </div>
                <button class="btn" onclick="calculate('velocity')">Calculate</button>
                <div class="result" id="velocity-result">Result will appear here</div>
            </div>

            <div class="calculator-card" id="acceleration-card">
                <h3 class="card-title"><i class="fas fa-tachometer-alt"></i> Acceleration</h3>
                <div class="formula">a = (v - u) / t</div>
                 <div class="input-group">
                    <label for="acceleration-solve">Calculate for:</label>
                    <select id="acceleration-solve" onchange="updateCalculatorUI('acceleration')">
                        <option value="a">Acceleration (a)</option>
                        <option value="v">Final Velocity (v)</option>
                        <option value="u">Initial Velocity (u)</option>
                        <option value="t">Time (t)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="acceleration-a">Acceleration (a) [m/s²]</label>
                    <input type="number" id="acceleration-a" placeholder="Enter acceleration">
                </div>
                <div class="input-group">
                    <label for="acceleration-v">Final Velocity (v) [m/s]</label>
                    <input type="number" id="acceleration-v" placeholder="Enter final velocity">
                </div>
                <div class="input-group">
                    <label for="acceleration-u">Initial Velocity (u) [m/s]</label>
                    <input type="number" id="acceleration-u" placeholder="Enter initial velocity">
                </div>
                <div class="input-group">
                    <label for="acceleration-t">Time (t) [s]</label>
                    <input type="number" id="acceleration-t" placeholder="Enter time">
                </div>
                <button class="btn" onclick="calculate('acceleration')">Calculate</button>
                <div class="result" id="acceleration-result">Result will appear here</div>
            </div>

            <div class="calculator-card" id="force-card">
                <h3 class="card-title"><i class="fas fa-weight-hanging"></i> Force (Newton's 2nd Law)</h3>
                <div class="formula">F = m × a</div>
                 <div class="input-group">
                    <label for="force-solve">Calculate for:</label>
                    <select id="force-solve" onchange="updateCalculatorUI('force')">
                        <option value="F">Force (F)</option>
                        <option value="m">Mass (m)</option>
                        <option value="a">Acceleration (a)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="force-F">Force (F) [N]</label>
                    <input type="number" id="force-F" placeholder="Enter force">
                </div>
                <div class="input-group">
                    <label for="force-m">Mass (m) [kg]</label>
                    <input type="number" id="force-m" placeholder="Enter mass">
                </div>
                <div class="input-group">
                    <label for="force-a">Acceleration (a) [m/s²]</label>
                    <input type="number" id="force-a" placeholder="Enter acceleration">
                </div>
                <button class="btn" onclick="calculate('force')">Calculate</button>
                <div class="result" id="force-result">Result will appear here</div>
            </div>

            <div class="calculator-card" id="ke-card">
                <h3 class="card-title"><i class="fas fa-bolt"></i> Kinetic Energy</h3>
                <div class="formula">KE = ½mv²</div>
                <div class="input-group">
                    <label for="ke-solve">Calculate for:</label>
                    <select id="ke-solve" onchange="updateCalculatorUI('ke')">
                        <option value="KE">Kinetic Energy (KE)</option>
                        <option value="m">Mass (m)</option>
                        <option value="v">Velocity (v)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="ke-KE">Kinetic Energy (KE) [J]</label>
                    <input type="number" id="ke-KE" placeholder="Enter kinetic energy">
                </div>
                <div class="input-group">
                    <label for="ke-m">Mass (m) [kg]</label>
                    <input type="number" id="ke-m" placeholder="Enter mass">
                </div>
                <div class="input-group">
                    <label for="ke-v">Velocity (v) [m/s]</label>
                    <input type="number" id="ke-v" placeholder="Enter velocity">
                </div>
                <button class="btn" onclick="calculate('ke')">Calculate</button>
                <div class="result" id="ke-result">Result will appear here</div>
            </div>

            <div class="calculator-card" id="pe-card">
                <h3 class="card-title"><i class="fas fa-mountain"></i> Gravitational Potential Energy</h3>
                <div class="formula">PE = mgh</div>
                <div class="input-group">
                    <label for="pe-solve">Calculate for:</label>
                    <select id="pe-solve" onchange="updateCalculatorUI('pe')">
                        <option value="PE">Potential Energy (PE)</option>
                        <option value="m">Mass (m)</option>
                        <option value="h">Height (h)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="pe-PE">Potential Energy (PE) [J]</label>
                    <input type="number" id="pe-PE" placeholder="Enter potential energy">
                </div>
                <div class="input-group">
                    <label for="pe-m">Mass (m) [kg]</label>
                    <input type="number" id="pe-m" placeholder="Enter mass">
                </div>
                <div class="input-group">
                    <label for="pe-g">Gravity (g) [m/s²]</label>
                    <input type="number" id="pe-g" value="9.81" placeholder="9.81 m/s²">
                </div>
                <div class="input-group">
                    <label for="pe-h">Height (h) [m]</label>
                    <input type="number" id="pe-h" placeholder="Enter height">
                </div>
                <button class="btn" onclick="calculate('pe')">Calculate</button>
                <div class="result" id="pe-result">Result will appear here</div>
            </div>

            <div class="calculator-card" id="momentum-card">
                <h3 class="card-title"><i class="fas fa-bowling-ball"></i> Momentum</h3>
                <div class="formula">p = mv</div>
                <div class="input-group">
                    <label for="momentum-solve">Calculate for:</label>
                    <select id="momentum-solve" onchange="updateCalculatorUI('momentum')">
                        <option value="p">Momentum (p)</option>
                        <option value="m">Mass (m)</option>
                        <option value="v">Velocity (v)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="momentum-p">Momentum (p) [kg·m/s]</label>
                    <input type="number" id="momentum-p" placeholder="Enter momentum">
                </div>
                <div class="input-group">
                    <label for="momentum-m">Mass (m) [kg]</label>
                    <input type="number" id="momentum-m" placeholder="Enter mass">
                </div>
                <div class="input-group">
                    <label for="momentum-v">Velocity (v) [m/s]</label>
                    <input type="number" id="momentum-v" placeholder="Enter velocity">
                </div>
                <button class="btn" onclick="calculate('momentum')">Calculate</button>
                <div class="result" id="momentum-result">Result will appear here</div>
            </div>
        </div>
    </div>
    
    <div id="electricity" class="tab-content">
        <h2 class="section-title"><i class="fas fa-bolt"></i> Electricity & Magnetism Formulas</h2>
        <div class="calculator-grid">
            <div class="calculator-card" id="ohms-card">
                <h3 class="card-title"><i class="fas fa-lightbulb"></i> Ohm's Law</h3>
                <div class="formula">V = IR</div>
                <div class="input-group">
                    <label for="ohms-solve">Calculate for:</label>
                    <select id="ohms-solve" onchange="updateCalculatorUI('ohms')">
                        <option value="V">Voltage (V)</option>
                        <option value="I">Current (I)</option>
                        <option value="R">Resistance (R)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="ohms-V">Voltage (V) [Volts]</label>
                    <input type="number" id="ohms-V" placeholder="Enter voltage">
                </div>
                <div class="input-group">
                    <label for="ohms-I">Current (I) [Amperes]</label>
                    <input type="number" id="ohms-I" placeholder="Enter current">
                </div>
                <div class="input-group">
                    <label for="ohms-R">Resistance (R) [Ohms]</label>
                    <input type="number" id="ohms-R" placeholder="Enter resistance">
                </div>
                <button class="btn" onclick="calculate('ohms')">Calculate</button>
                <div class="result" id="ohms-result">Result will appear here</div>
            </div>
            <div class="calculator-card" id="power-card">
                <h3 class="card-title"><i class="fas fa-plug"></i> Electric Power</h3>
                <div class="formula">P = VI</div>
                <div class="input-group">
                    <label for="power-solve">Calculate for:</label>
                    <select id="power-solve" onchange="updateCalculatorUI('power')">
                        <option value="P">Power (P)</option>
                        <option value="V">Voltage (V)</option>
                        <option value="I">Current (I)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="power-P">Power (P) [Watts]</label>
                    <input type="number" id="power-P" placeholder="Enter power">
                </div>
                <div class="input-group">
                    <label for="power-V">Voltage (V) [Volts]</label>
                    <input type="number" id="power-V" placeholder="Enter voltage">
                </div>
                <div class="input-group">
                    <label for="power-I">Current (I) [Amperes]</label>
                    <input type="number" id="power-I" placeholder="Enter current">
                </div>
                <button class="btn" onclick="calculate('power')">Calculate</button>
                <div class="result" id="power-result">Result will appear here</div>
            </div>
            <div class="calculator-card" id="coulomb-card">
                <h3 class="card-title"><i class="fas fa-magnet"></i> Coulomb's Law</h3>
                <div class="formula">F = k|q₁q₂|/r²</div>
                 <div class="input-group">
                    <label for="coulomb-solve">Calculate for:</label>
                    <select id="coulomb-solve" onchange="updateCalculatorUI('coulomb')">
                        <option value="F">Force (F)</option>
                        <option value="r">Distance (r)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="coulomb-F">Force (F) [N]</label>
                    <input type="number" id="coulomb-F" placeholder="Enter force">
                </div>
                <div class="input-group">
                    <label for="coulomb-q1">Charge 1 (q₁) [C]</label>
                    <input type="number" id="coulomb-q1" placeholder="e.g., 1.6e-19">
                </div>
                 <div class="input-group">
                    <label for="coulomb-q2">Charge 2 (q₂) [C]</label>
                    <input type="number" id="coulomb-q2" placeholder="e.g., -1.6e-19">
                </div>
                <div class="input-group">
                    <label for="coulomb-r">Distance (r) [m]</label>
                    <input type="number" id="coulomb-r" placeholder="Enter distance">
                </div>
                <button class="btn" onclick="calculate('coulomb')">Calculate</button>
                <div class="result" id="coulomb-result">Result will appear here</div>
            </div>
             <div class="calculator-card" id="capacitance-card">
                <h3 class="card-title"><i class="fas fa-battery-three-quarters"></i> Capacitance</h3>
                <div class="formula">C = Q/V</div>
                <div class="input-group">
                    <label for="capacitance-solve">Calculate for:</label>
                    <select id="capacitance-solve" onchange="updateCalculatorUI('capacitance')">
                        <option value="C">Capacitance (C)</option>
                        <option value="Q">Charge (Q)</option>
                        <option value="V">Voltage (V)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="capacitance-C">Capacitance (C) [Farads]</label>
                    <input type="number" id="capacitance-C" placeholder="Enter capacitance">
                </div>
                <div class="input-group">
                    <label for="capacitance-Q">Charge (Q) [Coulombs]</label>
                    <input type="number" id="capacitance-Q" placeholder="Enter charge">
                </div>
                <div class="input-group">
                    <label for="capacitance-V">Voltage (V) [Volts]</label>
                    <input type="number" id="capacitance-V" placeholder="Enter voltage">
                </div>
                <button class="btn" onclick="calculate('capacitance')">Calculate</button>
                <div class="result" id="capacitance-result">Result will appear here</div>
            </div>
        </div>
    </div>
    
    <div id="thermodynamics" class="tab-content">
        <h2 class="section-title"><i class="fas fa-temperature-high"></i> Thermodynamics Formulas</h2>
        <div class="calculator-grid">
            <div class="calculator-card" id="ideal-gas-card">
                <h3 class="card-title"><i class="fas fa-wind"></i> Ideal Gas Law</h3>
                <div class="formula">PV = nRT</div>
                <div class="input-group">
                    <label for="ideal-gas-solve">Calculate for:</label>
                    <select id="ideal-gas-solve" onchange="updateCalculatorUI('ideal-gas')">
                        <option value="P">Pressure (P)</option>
                        <option value="V">Volume (V)</option>
                        <option value="n">Moles (n)</option>
                        <option value="T">Temperature (T)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="ideal-gas-P">Pressure (P) [Pascals]</label>
                    <input type="number" id="ideal-gas-P" placeholder="Enter pressure">
                </div>
                <div class="input-group">
                    <label for="ideal-gas-V">Volume (V) [m³]</label>
                    <input type="number" id="ideal-gas-V" placeholder="Enter volume">
                </div>
                <div class="input-group">
                    <label for="ideal-gas-n">Moles (n) [mol]</label>
                    <input type="number" id="ideal-gas-n" placeholder="Enter moles">
                </div>
                <div class="input-group">
                    <label for="ideal-gas-T">Temperature (T) [Kelvin]</label>
                    <input type="number" id="ideal-gas-T" placeholder="Enter temperature">
                </div>
                <button class="btn" onclick="calculate('ideal-gas')">Calculate</button>
                <div class="result" id="ideal-gas-result">Result will appear here</div>
            </div>
            <div class="calculator-card" id="specific-heat-card">
                <h3 class="card-title"><i class="fas fa-fire"></i> Specific Heat Capacity</h3>
                <div class="formula">Q = mcΔT</div>
                <div class="input-group">
                    <label for="specific-heat-solve">Calculate for:</label>
                    <select id="specific-heat-solve" onchange="updateCalculatorUI('specific-heat')">
                        <option value="Q">Heat Energy (Q)</option>
                        <option value="m">Mass (m)</option>
                        <option value="c">Specific Heat (c)</option>
                        <option value="deltaT">Temperature Change (ΔT)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="specific-heat-Q">Heat Energy (Q) [Joules]</label>
                    <input type="number" id="specific-heat-Q" placeholder="Enter heat energy">
                </div>
                 <div class="input-group">
                    <label for="specific-heat-m">Mass (m) [kg]</label>
                    <input type="number" id="specific-heat-m" placeholder="Enter mass">
                </div>
                <div class="input-group">
                    <label for="specific-heat-c">Specific Heat (c) [J/kg·K]</label>
                    <input type="number" id="specific-heat-c" placeholder="e.g., 4186 for water">
                </div>
                <div class="input-group">
                    <label for="specific-heat-deltaT">Temp. Change (ΔT) [K or °C]</label>
                    <input type="number" id="specific-heat-deltaT" placeholder="Enter temp. change">
                </div>
                <button class="btn" onclick="calculate('specific-heat')">Calculate</button>
                <div class="result" id="specific-heat-result">Result will appear here</div>
            </div>
             <div class="calculator-card" id="thermal-expansion-card">
                <h3 class="card-title"><i class="fas fa-ruler-combined"></i> Linear Thermal Expansion</h3>
                <div class="formula">ΔL = αL₀ΔT</div>
                <div class="input-group">
                    <label for="thermal-expansion-solve">Calculate for:</label>
                    <select id="thermal-expansion-solve" onchange="updateCalculatorUI('thermal-expansion')">
                        <option value="deltaL">Change in Length (ΔL)</option>
                        <option value="alpha">Coefficient (α)</option>
                        <option value="L0">Original Length (L₀)</option>
                        <option value="deltaT">Temp. Change (ΔT)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="thermal-expansion-deltaL">Change in Length (ΔL) [m]</label>
                    <input type="number" id="thermal-expansion-deltaL" placeholder="Change in length">
                </div>
                 <div class="input-group">
                    <label for="thermal-expansion-alpha">Coefficient (α) [1/K]</label>
                    <input type="number" id="thermal-expansion-alpha" placeholder="e.g., 1.2e-5 for steel">
                </div>
                <div class="input-group">
                    <label for="thermal-expansion-L0">Original Length (L₀) [m]</label>
                    <input type="number" id="thermal-expansion-L0" placeholder="Original length">
                </div>
                <div class="input-group">
                    <label for="thermal-expansion-deltaT">Temp. Change (ΔT) [K or °C]</label>
                    <input type="number" id="thermal-expansion-deltaT" placeholder="Temp. change">
                </div>
                <button class="btn" onclick="calculate('thermal-expansion')">Calculate</button>
                <div class="result" id="thermal-expansion-result">Result will appear here</div>
            </div>
        </div>
    </div>
    
    <div id="waves" class="tab-content">
        <h2 class="section-title"><i class="fas-solid fa-wave-square"></i> Waves & Optics Formulas</h2>
        <div class="calculator-grid">
            <div class="calculator-card" id="wave-speed-card">
                <h3 class="card-title"><i class="fas fa-water"></i> Wave Speed</h3>
                <div class="formula">v = fλ</div>
                <div class="input-group">
                    <label for="wave-speed-solve">Calculate for:</label>
                    <select id="wave-speed-solve" onchange="updateCalculatorUI('wave-speed')">
                        <option value="v">Speed (v)</option>
                        <option value="f">Frequency (f)</option>
                        <option value="lambda">Wavelength (λ)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="wave-speed-v">Speed (v) [m/s]</label>
                    <input type="number" id="wave-speed-v" placeholder="Enter speed">
                </div>
                <div class="input-group">
                    <label for="wave-speed-f">Frequency (f) [Hertz]</label>
                    <input type="number" id="wave-speed-f" placeholder="Enter frequency">
                </div>
                <div class="input-group">
                    <label for="wave-speed-lambda">Wavelength (λ) [m]</label>
                    <input type="number" id="wave-speed-lambda" placeholder="Enter wavelength">
                </div>
                <button class="btn" onclick="calculate('wave-speed')">Calculate</button>
                <div class="result" id="wave-speed-result">Result will appear here</div>
            </div>
             <div class="calculator-card" id="lens-card">
                <h3 class="card-title"><i class="fas fa-eye"></i> Thin Lens Equation</h3>
                <div class="formula">1/f = 1/dₒ + 1/dᵢ</div>
                <div class="input-group">
                    <label for="lens-solve">Calculate for:</label>
                    <select id="lens-solve" onchange="updateCalculatorUI('lens')">
                        <option value="f">Focal Length (f)</option>
                        <option value="do">Object Distance (dₒ)</option>
                        <option value="di">Image Distance (dᵢ)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="lens-f">Focal Length (f) [m]</label>
                    <input type="number" id="lens-f" placeholder="Enter focal length">
                </div>
                <div class="input-group">
                    <label for="lens-do">Object Distance (dₒ) [m]</label>
                    <input type="number" id="lens-do" placeholder="Enter object distance">
                </div>
                <div class="input-group">
                    <label for="lens-di">Image Distance (dᵢ) [m]</label>
                    <input type="number" id="lens-di" placeholder="Enter image distance">
                </div>
                <button class="btn" onclick="calculate('lens')">Calculate</button>
                <div class="result" id="lens-result">Result will appear here</div>
            </div>
            <div class="calculator-card" id="snell-card">
                <h3 class="card-title"><i class="fas fa-gem"></i> Snell's Law</h3>
                <div class="formula">n₁sin(θ₁) = n₂sin(θ₂)</div>
                 <div class="input-group">
                    <label for="snell-solve">Calculate for:</label>
                    <select id="snell-solve" onchange="updateCalculatorUI('snell')">
                        <option value="n2">Refractive Index 2 (n₂)</option>
                        <option value="theta2">Angle of Refraction (θ₂)</option>
                        <option value="n1">Refractive Index 1 (n₁)</option>
                        <option value="theta1">Angle of Incidence (θ₁)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="snell-n1">Refractive Index 1 (n₁)</label>
                    <input type="number" id="snell-n1" placeholder="e.g., 1.00 for air">
                </div>
                <div class="input-group">
                    <label for="snell-theta1">Angle of Incidence (θ₁) [degrees]</label>
                    <input type="number" id="snell-theta1" placeholder="Enter angle 1">
                </div>
                <div class="input-group">
                    <label for="snell-n2">Refractive Index 2 (n₂)</label>
                    <input type="number" id="snell-n2" placeholder="e.g., 1.33 for water">
                </div>
                <div class="input-group">
                    <label for="snell-theta2">Angle of Refraction (θ₂) [degrees]</label>
                    <input type="number" id="snell-theta2" placeholder="Enter angle 2">
                </div>
                <button class="btn" onclick="calculate('snell')">Calculate</button>
                <div class="result" id="snell-result">Result will appear here</div>
            </div>
        </div>
    </div>
    
    <div id="conversion" class="tab-content">
      <h2 class="section-title"><i class="fas fa-exchange-alt"></i> Unit Conversion Assistant</h2>
      
      <div class="conversion-section">
        <div class="converter-card">
          <h3 class="converter-title"><i class="fas fa-ruler"></i> Length Conversion</h3>
          
          <div class="input-group">
            <label>Value:</label>
            <input type="number" id="length-value" placeholder="Enter value" value="1">
          </div>
          
          <div class="conversion-row">
            <select id="length-from">
              <option value="m">Meter (m)</option>
              <option value="cm">Centimeter (cm)</option>
              <option value="mm">Millimeter (mm)</option>
              <option value="km">Kilometer (km)</option>
              <option value="in">Inch (in)</option>
              <option value="ft">Foot (ft)</option>
              <option value="yd">Yard (yd)</option>
              <option value="mi">Mile (mi)</option>
            </select>
            
            <span><i class="fas fa-arrow-right"></i></span>
            
            <select id="length-to">
              <option value="cm">Centimeter (cm)</option>
              <option value="m">Meter (m)</option>
              <option value="mm">Millimeter (mm)</option>
              <option value="km">Kilometer (km)</option>
              <option value="in">Inch (in)</option>
              <option value="ft">Foot (ft)</option>
              <option value="yd">Yard (yd)</option>
              <option value="mi">Mile (mi)</option>
            </select>
          </div>
          
          <button class="btn" onclick="convertLength()">Convert Length</button>
          
          <div class="conversion-result" id="length-result">Result will appear here</div>
          
          <div class="explanation">
            <h4>About Length Units:</h4>
            <p>The meter is the SI base unit for length. Common conversions:</p>
            <ul>
              <li>1 meter = 100 centimeters</li>
              <li>1 kilometer = 1000 meters</li>
              <li>1 inch = 2.54 centimeters</li>
              <li>1 foot = 12 inches</li>
            </ul>
          </div>
        </div>
        
        <div class="converter-card">
          <h3 class="converter-title"><i class="fas fa-weight"></i> Mass Conversion</h3>
          
          <div class="input-group">
            <label>Value:</label>
            <input type="number" id="mass-value" placeholder="Enter value" value="1">
          </div>
          
          <div class="conversion-row">
            <select id="mass-from">
              <option value="kg">Kilogram (kg)</option>
              <option value="g">Gram (g)</option>
              <option value="mg">Milligram (mg)</option>
              <option value="t">Metric Ton (t)</option>
              <option value="lb">Pound (lb)</option>
              <option value="oz">Ounce (oz)</option>
            </select>
            
            <span><i class="fas fa-arrow-right"></i></span>
            
            <select id="mass-to">
              <option value="g">Gram (g)</option>
              <option value="kg">Kilogram (kg)</option>
              <option value="mg">Milligram (mg)</option>
              <option value="t">Metric Ton (t)</option>
              <option value="lb">Pound (lb)</option>
              <option value="oz">Ounce (oz)</option>
            </select>
          </div>
          
          <button class="btn" onclick="convertMass()">Convert Mass</button>
          
          <div class="conversion-result" id="mass-result">Result will appear here</div>
          
          <div class="explanation">
            <h4>About Mass Units:</h4>
            <p>The kilogram is the SI base unit for mass. Common conversions:</p>
            <ul>
              <li>1 kilogram = 1000 grams</li>
              <li>1 metric ton = 1000 kilograms</li>
              <li>1 pound ≈ 453.592 grams</li>
              <li>1 ounce ≈ 28.35 grams</li>
            </ul>
          </div>
        </div>
        
        <div class="converter-card">
          <h3 class="converter-title"><i class="fas fa-thermometer-half"></i> Temperature Conversion</h3>
          
          <div class="input-group">
            <label>Value:</label>
            <input type="number" id="temp-value" placeholder="Enter value" value="0">
          </div>
          
          <div class="conversion-row">
            <select id="temp-from">
              <option value="c">Celsius (°C)</option>
              <option value="f">Fahrenheit (°F)</option>
              <option value="k">Kelvin (K)</option>
            </select>
            
            <span><i class="fas fa-arrow-right"></i></span>
            
            <select id="temp-to">
              <option value="f">Fahrenheit (°F)</option>
              <option value="c">Celsius (°C)</option>
              <option value="k">Kelvin (K)</option>
            </select>
          </div>
          
          <button class="btn" onclick="convertTemperature()">Convert Temperature</button>
          
          <div class="conversion-result" id="temp-result">Result will appear here</div>
          
          <div class="explanation">
            <h4>About Temperature Scales:</h4>
            <p>Kelvin is the SI base unit for temperature. Conversion formulas:</p>
            <ul>
              <li>°F = (°C × 9/5) + 32</li>
              <li>°C = (°F - 32) × 5/9</li>
              <li>K = °C + 273.15</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <footer>
      <p>Physics Calculator & Conversion Assistant | Designed for Grade 12 & College Students</p>
      <p>© 2025 Physics Learning Tools | All formulas validated for accuracy</p>
    </footer>
  </div>

<script>
    // --- Constants ---
    const K_COULOMB = 8.98755e9; // Coulomb's constant
    const R_IDEAL_GAS = 8.314;   // Ideal gas constant

    // --- Utility Functions ---
    const $ = (id) => document.getElementById(id);
    const getVal = (id) => parseFloat($(id).value);
    const setVal = (id, value) => $(id).value = value;
    const showError = (elementId, message) => {
        $(elementId).innerHTML = `<span style="color: #e74c3c;">Error: ${message}</span>`;
    };
    const showResult = (elementId, varName, value, unit) => {
        const formattedValue = Number(value.toPrecision(4));
        $(elementId).innerHTML = `${varName} = <b>${formattedValue} ${unit}</b>`;
    };

    // --- Tab Switching Logic ---
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
            document.querySelector('.tab.active').classList.remove('active');
            tab.classList.add('active');
            document.querySelector('.tab-content.active').classList.remove('active');
            $(tab.dataset.tab).classList.add('active');
        });
    });

    // --- Dynamic UI Logic ---
    function updateCalculatorUI(calcName) {
        const card = $(`${calcName}-card`);
        const solveFor = $(`${calcName}-solve`).value;
        card.querySelectorAll('input[type="number"]').forEach(input => {
            const varName = input.id.split('-')[1];
            input.disabled = (varName === solveFor);
             if (input.disabled) {
                input.value = ''; // Clear the output field
            }
        });
    }

    // --- Main Calculation Router ---
    function calculate(calcName) {
        const solveFor = $(`${calcName}-solve`).value;
        const resultId = `${calcName}-result`;
        let result = {};
        
        try {
            switch (calcName) {
                case 'velocity': result = calcVelocity(solveFor); break;
                case 'acceleration': result = calcAcceleration(solveFor); break;
                case 'force': result = calcForce(solveFor); break;
                case 'ke': result = calcKineticEnergy(solveFor); break;
                case 'pe': result = calcPotentialEnergy(solveFor); break;
                case 'momentum': result = calcMomentum(solveFor); break;
                case 'ohms': result = calcOhmsLaw(solveFor); break;
                case 'power': result = calcPower(solveFor); break;
                case 'coulomb': result = calcCoulomb(solveFor); break;
                case 'capacitance': result = calcCapacitance(solveFor); break;
                case 'ideal-gas': result = calcIdealGas(solveFor); break;
                case 'specific-heat': result = calcSpecificHeat(solveFor); break;
                case 'thermal-expansion': result = calcThermalExpansion(solveFor); break;
                case 'wave-speed': result = calcWaveSpeed(solveFor); break;
                case 'lens': result = calcLens(solveFor); break;
                case 'snell': result = calcSnell(solveFor); break;
            }

            if (isNaN(result.value) || !isFinite(result.value)) {
                throw new Error("Calculation resulted in an invalid number. Check your inputs.");
            }
            
            setVal(`${calcName}-${solveFor}`, result.value.toPrecision(4));
            showResult(resultId, result.name, result.value, result.unit);
            
        } catch (error) {
            showError(resultId, error.message);
        }
    }

    // --- Individual Calculator Logic ---

    function calcVelocity(solveFor) {
        const v = getVal('velocity-v'), d = getVal('velocity-d'), t = getVal('velocity-t');
        switch (solveFor) {
            case 'v': if(t === 0) throw new Error("Time cannot be zero."); return { name: 'Velocity', value: d / t, unit: 'm/s' };
            case 'd': return { name: 'Distance', value: v * t, unit: 'm' };
            case 't': if(v === 0) throw new Error("Velocity cannot be zero."); return { name: 'Time', value: d / v, unit: 's' };
        }
    }

    function calcAcceleration(solveFor) {
        const a = getVal('acceleration-a'), v = getVal('acceleration-v'), u = getVal('acceleration-u'), t = getVal('acceleration-t');
        switch (solveFor) {
            case 'a': if(t === 0) throw new Error("Time cannot be zero."); return { name: 'Acceleration', value: (v - u) / t, unit: 'm/s²' };
            case 'v': return { name: 'Final Velocity', value: u + (a * t), unit: 'm/s' };
            case 'u': return { name: 'Initial Velocity', value: v - (a * t), unit: 'm/s' };
            case 't': if(a === 0) throw new Error("Acceleration cannot be zero."); return { name: 'Time', value: (v - u) / a, unit: 's' };
        }
    }

    function calcForce(solveFor) {
        const F = getVal('force-F'), m = getVal('force-m'), a = getVal('force-a');
        switch (solveFor) {
            case 'F': return { name: 'Force', value: m * a, unit: 'N' };
            case 'm': if(a === 0) throw new Error("Acceleration cannot be zero."); return { name: 'Mass', value: F / a, unit: 'kg' };
            case 'a': if(m === 0) throw new Error("Mass cannot be zero."); return { name: 'Acceleration', value: F / m, unit: 'm/s²' };
        }
    }

    function calcKineticEnergy(solveFor) {
        const KE = getVal('ke-KE'), m = getVal('ke-m'), v = getVal('ke-v');
        switch (solveFor) {
            case 'KE': return { name: 'Kinetic Energy', value: 0.5 * m * v**2, unit: 'J' };
            case 'm': if(v === 0) throw new Error("Velocity cannot be zero."); return { name: 'Mass', value: (2 * KE) / (v**2), unit: 'kg' };
            case 'v': if(m === 0) throw new Error("Mass cannot be zero."); if(KE/m < 0) throw new Error("Cannot take square root of negative."); return { name: 'Velocity', value: Math.sqrt((2 * KE) / m), unit: 'm/s' };
        }
    }

    function calcPotentialEnergy(solveFor) {
        const PE = getVal('pe-PE'), m = getVal('pe-m'), g = getVal('pe-g'), h = getVal('pe-h');
        const mg = m * g;
        if(g === 0) throw new Error("Gravity cannot be zero.");
        switch (solveFor) {
            case 'PE': return { name: 'Potential Energy', value: m * g * h, unit: 'J' };
            case 'm': if(g*h === 0) throw new Error("Product of gravity and height cannot be zero."); return { name: 'Mass', value: PE / (g * h), unit: 'kg' };
            case 'h': if(mg === 0) throw new Error("Product of mass and gravity cannot be zero."); return { name: 'Height', value: PE / mg, unit: 'm' };
        }
    }

    function calcMomentum(solveFor) {
        const p = getVal('momentum-p'), m = getVal('momentum-m'), v = getVal('momentum-v');
        switch (solveFor) {
            case 'p': return { name: 'Momentum', value: m * v, unit: 'kg·m/s' };
            case 'm': if(v === 0) throw new Error("Velocity cannot be zero."); return { name: 'Mass', value: p / v, unit: 'kg' };
            case 'v': if(m === 0) throw new Error("Mass cannot be zero."); return { name: 'Velocity', value: p / m, unit: 'm/s' };
        }
    }
    
    function calcOhmsLaw(solveFor) {
        const V = getVal('ohms-V'), I = getVal('ohms-I'), R = getVal('ohms-R');
        switch (solveFor) {
            case 'V': return { name: 'Voltage', value: I * R, unit: 'V' };
            case 'I': if(R === 0) throw new Error("Resistance cannot be zero."); return { name: 'Current', value: V / R, unit: 'A' };
            case 'R': if(I === 0) throw new Error("Current cannot be zero."); return { name: 'Resistance', value: V / I, unit: 'Ω' };
        }
    }

    function calcPower(solveFor) {
        const P = getVal('power-P'), V = getVal('power-V'), I = getVal('power-I');
        switch (solveFor) {
            case 'P': return { name: 'Power', value: V * I, unit: 'W' };
            case 'V': if(I === 0) throw new Error("Current cannot be zero."); return { name: 'Voltage', value: P / I, unit: 'V' };
            case 'I': if(V === 0) throw new Error("Voltage cannot be zero."); return { name: 'Current', value: P / V, unit: 'A' };
        }
    }

    function calcCoulomb(solveFor) {
        const F = getVal('coulomb-F'), q1 = getVal('coulomb-q1'), q2 = getVal('coulomb-q2'), r = getVal('coulomb-r');
        const qProduct = Math.abs(q1 * q2);
        switch (solveFor) {
            case 'F': if(r === 0) throw new Error("Distance cannot be zero."); return { name: 'Force', value: (K_COULOMB * qProduct) / (r**2), unit: 'N' };
            case 'r': if(F === 0) throw new Error("Force cannot be zero."); if((K_COULOMB * qProduct) / F < 0) throw new Error("Invalid inputs for distance calculation."); return { name: 'Distance', value: Math.sqrt((K_COULOMB * qProduct) / F), unit: 'm' };
        }
    }

    function calcCapacitance(solveFor) {
        const C = getVal('capacitance-C'), Q = getVal('capacitance-Q'), V = getVal('capacitance-V');
        switch (solveFor) {
            case 'C': if(V === 0) throw new Error("Voltage cannot be zero."); return { name: 'Capacitance', value: Q / V, unit: 'F' };
            case 'Q': return { name: 'Charge', value: C * V, unit: 'C' };
            case 'V': if(C === 0) throw new Error("Capacitance cannot be zero."); return { name: 'Voltage', value: Q / C, unit: 'V' };
        }
    }

    function calcIdealGas(solveFor) {
        const P = getVal('ideal-gas-P'), V = getVal('ideal-gas-V'), n = getVal('ideal-gas-n'), T = getVal('ideal-gas-T');
        switch (solveFor) {
            case 'P': if(V === 0) throw new Error("Volume cannot be zero."); return { name: 'Pressure', value: (n * R_IDEAL_GAS * T) / V, unit: 'Pa' };
            case 'V': if(P === 0) throw new Error("Pressure cannot be zero."); return { name: 'Volume', value: (n * R_IDEAL_GAS * T) / P, unit: 'm³' };
            case 'n': if(R_IDEAL_GAS * T === 0) throw new Error("Product of R and Temp cannot be zero."); return { name: 'Moles', value: (P * V) / (R_IDEAL_GAS * T), unit: 'mol' };
            case 'T': if(n * R_IDEAL_GAS === 0) throw new Error("Product of n and R cannot be zero."); return { name: 'Temperature', value: (P * V) / (n * R_IDEAL_GAS), unit: 'K' };
        }
    }

    function calcSpecificHeat(solveFor) {
        const Q = getVal('specific-heat-Q'), m = getVal('specific-heat-m'), c = getVal('specific-heat-c'), deltaT = getVal('specific-heat-deltaT');
        switch (solveFor) {
            case 'Q': return { name: 'Heat Energy', value: m * c * deltaT, unit: 'J' };
            case 'm': if(c * deltaT === 0) throw new Error("Product of heat capacity and temp change cannot be zero."); return { name: 'Mass', value: Q / (c * deltaT), unit: 'kg' };
            case 'c': if(m * deltaT === 0) throw new Error("Product of mass and temp change cannot be zero."); return { name: 'Specific Heat', value: Q / (m * deltaT), unit: 'J/kg·K' };
            case 'deltaT': if(m * c === 0) throw new Error("Product of mass and heat capacity cannot be zero."); return { name: 'Temp. Change', value: Q / (m * c), unit: 'K' };
        }
    }

    function calcThermalExpansion(solveFor) {
        const deltaL = getVal('thermal-expansion-deltaL'), alpha = getVal('thermal-expansion-alpha'), L0 = getVal('thermal-expansion-L0'), deltaT = getVal('thermal-expansion-deltaT');
        switch (solveFor) {
            case 'deltaL': return { name: 'Δ Length', value: alpha * L0 * deltaT, unit: 'm' };
            case 'alpha': if(L0 * deltaT === 0) throw new Error("Product of L₀ and ΔT cannot be zero."); return { name: 'Coefficient α', value: deltaL / (L0 * deltaT), unit: '1/K' };
            case 'L0': if(alpha * deltaT === 0) throw new Error("Product of α and ΔT cannot be zero."); return { name: 'Original Length L₀', value: deltaL / (alpha * deltaT), unit: 'm' };
            case 'deltaT': if(alpha * L0 === 0) throw new Error("Product of α and L₀ cannot be zero."); return { name: 'Δ Temperature', value: deltaL / (alpha * L0), unit: 'K' };
        }
    }

    function calcWaveSpeed(solveFor) {
        const v = getVal('wave-speed-v'), f = getVal('wave-speed-f'), lambda = getVal('wave-speed-lambda');
        switch (solveFor) {
            case 'v': return { name: 'Speed', value: f * lambda, unit: 'm/s' };
            case 'f': if(lambda === 0) throw new Error("Wavelength cannot be zero."); return { name: 'Frequency', value: v / lambda, unit: 'Hz' };
            case 'lambda': if(f === 0) throw new Error("Frequency cannot be zero."); return { name: 'Wavelength', value: v / f, unit: 'm' };
        }
    }
    
    function calcLens(solveFor) {
        const f = getVal('lens-f'), do_ = getVal('lens-do'), di = getVal('lens-di');
        switch (solveFor) {
            case 'f': if(1/do_ + 1/di === 0) throw new Error("Sum of reciprocals is zero."); return { name: 'Focal Length', value: 1 / (1/do_ + 1/di), unit: 'm' };
            case 'do': if(1/f - 1/di === 0) throw new Error("Cannot divide by zero. Image at focal point."); return { name: 'Object Distance', value: 1 / (1/f - 1/di), unit: 'm' };
            case 'di': if(1/f - 1/do_ === 0) throw new Error("Cannot divide by zero. Object at focal point."); return { name: 'Image Distance', value: 1 / (1/f - 1/do_), unit: 'm' };
        }
    }

    function calcSnell(solveFor) {
        const n1 = getVal('snell-n1'), theta1 = getVal('snell-theta1'), n2 = getVal('snell-n2'), theta2 = getVal('snell-theta2');
        const toRad = (deg) => deg * (Math.PI / 180);
        const toDeg = (rad) => rad * (180 / Math.PI);
        switch (solveFor) {
            case 'n2': if(Math.sin(toRad(theta2)) === 0) throw new Error("sin(θ₂) is zero."); return { name: 'Index n₂', value: (n1 * Math.sin(toRad(theta1))) / Math.sin(toRad(theta2)), unit: '' };
            case 'theta2': 
                if(n2 === 0) throw new Error("Index n₂ cannot be zero.");
                const sinTheta2Val = (n1 * Math.sin(toRad(theta1))) / n2;
                if(sinTheta2Val < -1 || sinTheta2Val > 1) throw new Error("Total internal reflection occurs. No solution.");
                return { name: 'Angle θ₂', value: toDeg(Math.asin(sinTheta2Val)), unit: '°' };
            case 'n1': if(Math.sin(toRad(theta1)) === 0) throw new Error("sin(θ₁) is zero."); return { name: 'Index n₁', value: (n2 * Math.sin(toRad(theta2))) / Math.sin(toRad(theta1)), unit: '' };
            case 'theta1':
                if(n1 === 0) throw new Error("Index n₁ cannot be zero.");
                const sinTheta1Val = (n2 * Math.sin(toRad(theta2))) / n1;
                if(sinTheta1Val < -1 || sinTheta1Val > 1) throw new Error("Invalid inputs for angle calculation.");
                return { name: 'Angle θ₁', value: toDeg(Math.asin(sinTheta1Val)), unit: '°' };
        }
    }
    
    // --- Unit Conversion Logic ---
    function convertLength() {
      const value = getVal('length-value');
      const fromUnit = $('length-from').value;
      const toUnit = $('length-to').value;
      if (isNaN(value)) { showError('length-result', 'Please enter a valid number'); return; }
      const toMeters = { m: 1, cm: 0.01, mm: 0.001, km: 1000, in: 0.0254, ft: 0.3048, yd: 0.9144, mi: 1609.34 };
      let meters = value * toMeters[fromUnit];
      let result = meters / toMeters[toUnit];
      $('length-result').innerHTML = `${value} ${getUnitName(fromUnit)} = <b>${result.toFixed(6)} ${getUnitName(toUnit)}</b>`;
    }

    function convertMass() {
      const value = getVal('mass-value');
      const fromUnit = $('mass-from').value;
      const toUnit = $('mass-to').value;
      if (isNaN(value)) { showError('mass-result', 'Please enter a valid number'); return; }
      const toKg = { kg: 1, g: 0.001, mg: 1e-6, t: 1000, lb: 0.453592, oz: 0.0283495 };
      let kilograms = value * toKg[fromUnit];
      let result = kilograms / toKg[toUnit];
      $('mass-result').innerHTML = `${value} ${getUnitName(fromUnit)} = <b>${result.toFixed(6)} ${getUnitName(toUnit)}</b>`;
    }

    function convertTemperature() {
      const value = getVal('temp-value');
      const fromUnit = $('temp-from').value;
      const toUnit = $('temp-to').value;
      if (isNaN(value)) { showError('temp-result', 'Please enter a valid number'); return; }
      let celsius;
      if (fromUnit === 'c') celsius = value;
      else if (fromUnit === 'f') celsius = (value - 32) * 5/9;
      else if (fromUnit === 'k') celsius = value - 273.15;
      let result;
      if (toUnit === 'c') result = celsius;
      else if (toUnit === 'f') result = (celsius * 9/5) + 32;
      else if (toUnit === 'k') result = celsius + 273.15;
      $('temp-result').innerHTML = `${value} ${getUnitName(fromUnit)} = <b>${result.toFixed(2)} ${getUnitName(toUnit)}</b>`;
    }
    
    function getUnitName(unit) {
      const units = {
        'm': 'meters', 'cm': 'cm', 'mm': 'mm', 'km': 'km', 'in': 'inches', 'ft': 'feet', 'yd': 'yards', 'mi': 'miles',
        'kg': 'kg', 'g': 'grams', 'mg': 'mg', 't': 'metric tons', 'lb': 'pounds', 'oz': 'ounces',
        'c': '°C', 'f': '°F', 'k': 'K'
      };
      return units[unit] || unit;
    }
    
    // --- Initial page load ---
    window.onload = function() {
        const allCalculators = document.querySelectorAll('.calculator-card');
        allCalculators.forEach(card => {
            const calcName = card.id.replace('-card', '');
            updateCalculatorUI(calcName);
        });

        // Pre-fill some examples
        setVal('velocity-d', 100); setVal('velocity-t', 20); calculate('velocity');
        setVal('ohms-I', 0.5); setVal('ohms-R', 24); calculate('ohms');
        setVal('wave-speed-f', 3e8); setVal('wave-speed-lambda', 1); calculate('wave-speed');
        setVal('ideal-gas-V', 22.4); setVal('ideal-gas-n', 1); setVal('ideal-gas-T', 273); calculate('ideal-gas');
        
        // Initial conversions
        convertLength();
        convertMass();
        convertTemperature();
    };
</script>
</body>
</html>